<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Nanum+Myeongjo&family=Sunflower:wght@300&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>

<title>Insert title here</title>
</head>
<body>
	<div style="margin:100px;">
		<h4>평가할 음식을 선택해 주세요</h4>
		<select id="selFoodImage">
			<option value="1">샌드위치</option>
			<option value="11">망고빙수</option>
			<option value="2">꼬치구이</option>
			<option value="10">햄에그덮밥</option>
		</select>
		<br><br>
		<input type="text" id="chuScore1"><br>
		<input type="text" id="chuScore2"><br>
		<input type="text" id="chuScore3"><br><br>
		<button type="button" class="btn btn-info" id="btnSend">데이터 전송</button>
		<br><br>
		<div id="foodResult"></div>
		<!-- div에 출력은 음식이미지 그 아래 음식명 음식 평점 합 
			 Ajax이용해서 json 반환받은 값으로-->
			 <script>
			 	$("#btnSend").click(function(){
			 		var foodimg=$("#selFoodImage").val();
			 		var foodname=$("#selFoodImage option:selected").text();
			 		var score1=$("#chuScore1").val();
			 		var score2=$("#chuScore2").val()
			 		var score3=$("#chuScore3").val();
			 		
			 		var data="foodimg="+foodimg+"&foodname="+foodname+"&score1="+score1+"&score2="+score2+"&score3="+score3;
			 		console.log(data);
			 		//alert(data);
			 		$.ajax({
			 			type:"get",
			 			url:"quizReceive.jsp",
			 			dataType:"json",
			 			data:data,
			 			
			 			success:function(res){
			 				var out="<img src='../image/Food/"+res.food+".jpg' width='300'><br>";
			 				out+="<h3>음식명 : "+res.name+"<br>";
			 				out+="<h3>총점 : "+res.total+"<br>";
			 				//소수점 둘째자리까지 출력
			 				out+="<h3>평균 : "+res.avg.toFixed(2)+"<br>";
			 				$("#foodResult").html(out);
			 				
			 			}
			 		})
			 	})
			 </script>
	</div>
</body>
</html>